(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2215"],{"05bc":function(t,e,a){},"4dfe":function(t,e,a){"use strict";var i=a("ff5e"),s=a.n(i);s.a},"586a":function(t,e,a){"use strict";var i=a("f429"),s=a.n(i);s.a},"7e66":function(t,e,a){},"7f7f":function(t,e,a){var i=a("86cc").f,s=Function.prototype,n=/^\s*function ([^ (]*)/,l="name";l in s||a("9e1e")&&i(s,l,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(t){return""}}})},"84f25":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.auth?a("div",[a("transition",{attrs:{appear:"","appear-active-class":"animated fadeInLeft"}},[a("div",{staticClass:"manage"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"用户列表",name:"first"}},[a("manage-a")],1),a("el-tab-pane",{attrs:{label:"管理组",name:"second"}},[a("manage-b")],1),a("el-tab-pane",{attrs:{label:"操作日志",name:"third"}},[a("manage-c")],1)],1)],1)])],1):t._e()},s=[],n=(a("cadf"),a("551c"),a("097d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"manage"},[a("div",{staticClass:"list"},[a("div",{staticClass:"list-head"},[a("el-row",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.add_fun}},[t._v("添加用户")]),a("el-dialog",{attrs:{title:"",visible:t.add,width:"420px"},on:{"update:visible":function(e){t.add=e}}},[a("el-form",{attrs:{model:t.form,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名"}},[0==t.eid?a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}}):a("el-input",{attrs:{disabled:!0,"auto-complete":"off"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),0==t.eid?a("el-form-item",{attrs:{label:"密码"}},[a("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1):t._e(),a("el-form-item",{attrs:{label:"所属用户组"}},[a("el-select",{attrs:{placeholder:"请选择用户组"},model:{value:t.form.gid,callback:function(e){t.$set(t.form,"gid",e)},expression:"form.gid"}},t._l(t.group_list,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.eid<1?a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.register()}}},[t._v("确 定")]):a("el-button",{attrs:{type:"success"},on:{click:t.onEditSub}},[t._v("修改")])],1)],1)],1)],1),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),a("el-table-column",{attrs:{prop:"username",label:"名称",width:"180"}}),a("el-table-column",{attrs:{prop:"groups.name",label:"管理组",width:"180"}}),a("el-table-column",{attrs:{prop:"description",label:"备注",width:"180"}}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"180"}}),a("el-table-column",{attrs:{prop:"state",label:"是否禁用",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#409EFF","inactive-color":"#DCDFE6"},on:{change:function(a){t.onswitch(e.row.id)}},model:{value:e.row.state,callback:function(a){t.$set(e.row,"state",a)},expression:"scope.row.state"}})]}}])}),a("el-table-column",{attrs:{prop:"operation",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(a){t.on_edit(e.row.id,e.row.username,e.row.description,e.row.group_id)}}},[t._v("编辑")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference",type:"danger",size:"small"},on:{click:function(a){t.del(e.row.id,e.$index)}},slot:"reference"},[t._v("删除")])]}}])})],1)]],2)])}),l=[],o=(a("6b54"),{name:"Manage-a",data:function(){return{add:!1,form:{username:"",password:"",gid:"",edi:0,description:""},formLabelWidth:"120px",list:[]}},methods:{add_fun:function(){this.add=!0,this._clsForm(),this.eid=0},register:function(){var t=this;this.http.post("/admin/add_admin",t.form).then(function(e){t.$message({showClose:!0,message:"添加成功",type:"success"}),t.add=!1,t.getUser(),t._clsForm()})},_clsForm:function(){var t=this;for(var e in t.form)t.form[e]=""},on_edit:function(t,e,a,i){this.add=!0,this.eid=t,this.form.username=e,this.form.gid=i,this.form.description=a},onEditSub:function(){var t=this,e={};e["id"]=this.eid,e["gid"]=this.form.gid,e["description"]=this.form.description,this.http.put("/admin/edit_admin",e).then(function(e){t.$message({showClose:!0,message:"操作成功",type:"success"}),t.getUser(),t.add=!1,t.eid=0,t._clsForm()})},getUser:function(){var t=this;this.http.post("/admin/get_admin").then(function(e){t.list=e.data})},del:function(t,e){var a=this,i=this;this.$confirm("是否删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.http.put("/admin/del_admin",{id:t}).then(function(t){var a=t.status.toString();2==a.charAt(0)?(i.$message({showClose:!0,message:"删除成功",type:"success"}),i.list.splice(e,1)):i.$message({showClose:!0,message:t.data.msg,type:"error"})})})},onswitch:function(t){var e=this;this.http.put("/admin/update",{id:t,db:"admins",field:"state"}).then(function(t){e.$message({showClose:!0,message:"操作成功",type:"success"})})},_getallgroup:function(){var t=this;this.http.post("/admin/get_group_all").then(function(e){console.log("xx:",e.data),t.group_list=e.data})}},mounted:function(){this.getUser(),this._getallgroup()}}),r=o,c=(a("956e"),a("2877")),d=Object(c["a"])(r,n,l,!1,null,"5d04fded",null);d.options.__file="Manage-a.vue";var u=d.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"manage"},[t.addShow?a("div",{staticClass:"add-category "},[a("div",{staticClass:"order-back"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.back}},[t._v("返回")])],1),a("manage-power",{attrs:{eid:t.eid},on:{trigger:t.back}})],1):t._e(),t.addShow?t._e():a("div",{staticClass:"list"},[a("div",{staticClass:"list-head"},[a("el-row",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.handleEdit()}}},[t._v("添加管理组")])],1)],1),[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{prop:"name",label:"管理组名称",width:"280"}}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"240"}}),a("el-table-column",{attrs:{prop:"operation",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return 1!=e.row.id?[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(a){t.on_edit(e.row.id)}}},[t._v("编辑")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"danger",size:"small"},on:{click:function(a){t.del(e.row.id,e.$index)}}},[t._v("删除")])]:void 0}}])})],1)]],2)])},p=[],f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"create"}},[a("div",{staticClass:"release"},[a("el-form",{ref:"forms",attrs:{model:t.forms,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"组名称"}},[a("el-input",{staticStyle:{width:"500px"},model:{value:t.group_name,callback:function(e){t.group_name=e},expression:"group_name"}})],1),a("el-form-item",{attrs:{label:"权限设置"}},[a("el-tree",{ref:"tree",attrs:{data:t.data2,"show-checkbox":"","node-key":"name","default-expanded-keys":t.zhankai,"default-checked-keys":t.checked,props:t.defaultProps}})],1),a("el-form-item"),a("el-form-item",[t.eid<1?a("el-button",{attrs:{type:"primary"},on:{click:t.sub}},[t._v("提交")]):a("el-button",{attrs:{type:"success"},on:{click:t.onEdit}},[t._v("修改")])],1)],1)],1)])},h=[],b=(a("7f7f"),{props:["eid"],data:function(){return{zhankai:["product","shop","chou","order_cai","member","cset"],checked:["product/add","product/list"],group_name:"",sku_table:!1,sub_btn:!0,data2:[{label:"全选",name:"all",children:[{label:"商品",name:"product",children:[{label:"商品列表",name:"product_list"},{label:"商品发布",name:"product_add"},{label:"商品删除",name:"product_del"},{label:"商品分类",name:"product_category"}]},{label:"订单/财务",name:"order_cai",children:[{label:"订单列表",name:"order_list"},{label:"售后服务",name:"order_set"},{label:"财务管理",name:"caiwu_list"},{label:"付款",name:"pay"}]},{label:"会员",name:"member",children:[{label:"会员列表",name:"member_list"}]},{label:"设置",name:"cset",children:[{label:"广告管理",name:"ad_list"},{label:"文章管理",name:"article_list"},{label:"站点管理",name:"site_set"},{label:"管理组",name:"group_list"}]}]}]}},components:{},methods:{sub:function(){var t=this,e={};e["name"]=this.group_name,e["res"]=this.$refs.tree.getCheckedKeys();this.http.post("/admin/add_group",e).then(function(e){t.$message({showClose:!0,message:"新增成功",type:"success"}),t.$emit("trigger")})},onEdit:function(){var t=this,e={};e["id"]=this.eid,e["name"]=this.group_name,e["res"]=this.$refs.tree.getCheckedKeys();this.http.post("/admin/edit_group",e).then(function(e){t.$message({showClose:!0,message:"修改成功",type:"success"}),t.$emit("trigger")})},get_group_one:function(t){var e=this;this.http.post("/admin/group/"+t).then(function(t){t.data.name&&t.data.oauth&&(e.group_name=t.data.name,e.checked=t.data.oauth)})}},mounted:function(){this.eid>0&&this.get_group_one(this.eid)}}),g=b,_=(a("4dfe"),Object(c["a"])(g,f,h,!1,null,null,null));_.options.__file="add_group.vue";var v=_.exports,w={name:"Manage-b",data:function(){return{addShow:!1,checkdDistributor:null,aid:0,eid:0,list:[]}},components:{ManagePower:v},methods:{handleEdit:function(t){this.addShow=!0},back:function(){this.order_id=0,this.eid=0,this.addShow=!1,this._getall()},del:function(t,e){var a=this;this.$confirm("是否删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.http.put("admin/del_group",{id:t}).then(function(t){a.$message({message:"删除成功",type:"success"}),a.list.splice(e,1)})})},on_edit:function(t){this.addShow=!0,this.eid=t},_getall:function(){var t=this;this.http.post("/admin/get_group_all").then(function(e){t.list=e.data})}},mounted:function(){this._getall()}},k=w,y=(a("bfe3"),Object(c["a"])(k,m,p,!1,null,"13d21c72",null));y.options.__file="Manage-b.vue";var x=y.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"manage"},[a("div",{staticClass:"list"},[a("div",{staticClass:"list-head"},[a("div",{staticClass:"liat-head-01"},[a("el-row",[a("el-button",{attrs:{type:"danger",size:"small"}},[t._v("删除")])],1)],1),a("div",{staticClass:"liat-head-02"},[t._v("\n        商品名称："),a("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入内容",size:"small"}})],1),a("div",{staticClass:"liat-head-03"},[a("el-row",[a("el-button",{attrs:{type:"primary",size:"small"}},[t._v("搜索")])],1)],1),a("div",{staticClass:"liat-head-04"},[t._v("\n        时间选择：\n      ")]),a("div",{staticClass:"liat-head-05"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.value6,callback:function(e){t.value6=e},expression:"value6"}})],1)]),[a("el-table",{staticStyle:{width:"100%"}},[a("el-table-column",{attrs:{prop:"nickname",label:"名称",width:"180"}}),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间",width:"180"}}),a("el-table-column",{attrs:{prop:"openid",label:"openid",width:"280"}}),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),a("el-table-column",{attrs:{prop:"is_visible",label:"是否禁用",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-color":"#409EFF","inactive-color":"#DCDFE6"},on:{change:function(a){t.onswitch(e.row.id)}},model:{value:e.row.is_visible,callback:function(a){t.$set(e.row,"is_visible",a)},expression:"scope.row.is_visible"}})]}}])}),a("el-table-column",{attrs:{prop:"operation",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.handleEdit(e.row.id)}}},[t._v("查看")]),a("el-button",{attrs:{type:"success",size:"small"}},[t._v("编辑")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference",type:"danger",size:"small"},slot:"reference"},[t._v("删除")])]}}])})],1)]],2)])},$=[],S={name:"Manage-c",data:function(){return{pickerOptions2:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]},value6:"",value7:""}}},E=S,z=(a("586a"),Object(c["a"])(E,C,$,!1,null,"969657c4",null));z.options.__file="Manage-c.vue";var D=z.exports,F={name:"Manage",data:function(){return{activeName:"first",auth:!1}},components:{ManageA:u,ManageB:x,ManageC:D},methods:{handleClick:function(t,e){console.log(t,e)},check_auth:function(t){var e=localStorage.getItem("oauth");e.indexOf(t)<0?this.$message({message:"无权限",type:"none"}):this.auth=!0}},mounted:function(){this.check_auth("member_list")}},M=F,T=(a("cf94"),Object(c["a"])(M,i,s,!1,null,"47be5678",null));T.options.__file="index.vue";e["default"]=T.exports},"956e":function(t,e,a){"use strict";var i=a("98d9"),s=a.n(i);s.a},"98d9":function(t,e,a){},bfe3:function(t,e,a){"use strict";var i=a("7e66"),s=a.n(i);s.a},cf94:function(t,e,a){"use strict";var i=a("05bc"),s=a.n(i);s.a},f429:function(t,e,a){},ff5e:function(t,e,a){}}]);
//# sourceMappingURL=chunk-2215.17bb8b9e.js.map