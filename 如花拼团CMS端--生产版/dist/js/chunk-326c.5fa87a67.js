(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-326c"],{"1eb4":function(t,e,o){"use strict";var s=o("c239"),i=o.n(s);i.a},"4d12":function(t,e,o){},c239:function(t,e,o){},d1e8:function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"list"},[o("transition",{attrs:{appear:"","appear-active-class":"animated fadeInLeft"}},[o("div",[o("list-a",{attrs:{down:t.down}})],1)])],1)},i=[],a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"list-a"},[t.addShow?t._e():o("div",{staticClass:"tab-btn"},[o("el-button",{attrs:{size:"medium"},on:{click:t.all}},[t._v("在售商品")]),o("el-button",{attrs:{size:"medium"},on:{click:t.getDownPro}},[t._v("下架商品")])],1),o("div",[t.addShow?o("div",{staticClass:"add-category "},[o("div",{staticClass:"order-back"},[o("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.back}},[t._v("返回")])],1),o("Good",{attrs:{eid:t.eid},on:{emit_tg:t.emit_tg_list}})],1):t._e(),t.addShow?t._e():o("div",{staticClass:"list"},[o("div",{staticClass:"list-head"},[o("div",{staticClass:"liat-head-01"},[o("el-row",[o("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.on_add}},[t._v("发布商品")])],1)],1),o("div",{staticClass:"liat-head-02",staticStyle:{"padding-left":"30px"}},[o("el-input",{staticStyle:{width:"98%"},attrs:{placeholder:"商品名称",size:"small"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),o("div",{staticClass:"liat-head-03"},[o("el-row",[o("el-button",{attrs:{type:"info",size:"small"},on:{click:t.serach}},[t._v("搜索")]),o("el-button",{attrs:{type:"success",size:"small"},on:{click:t.all}},[t._v("所有")])],1)],1)]),[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.product,border:""}},[o("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),o("el-table-column",{attrs:{label:"商品名称",width:"380"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.imgs?o("div",{staticClass:"product-img"},[o("img",{attrs:{src:e.row.imgs}})]):t._e(),o("div",{staticClass:"product-mes"},[o("p",[t._v(t._s(e.row.goods_name))]),o("p",[t._v(t._s(e.row.description))])])]}}])}),o("el-table-column",{attrs:{label:"类型",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("p",[t._v(t._s(e.row.style?"普通商品":"拼团商品"))])]}}])}),o("el-table-column",{attrs:{prop:"price",label:"价格",width:"100"}}),o("el-table-column",{attrs:{prop:"stock",label:"总库存",width:"100"}}),o("el-table-column",{attrs:{prop:"sales",label:"销量",width:"100"}}),o("el-table-column",{attrs:{label:"是否热销",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-switch",{attrs:{"active-color":"#409EFF","inactive-color":"#DCDFE6"},on:{change:function(o){t.set_hot(e.row.goods_id)}},model:{value:e.row.is_hot,callback:function(o){t.$set(e.row,"is_hot",o)},expression:"scope.row.is_hot"}})]}}])}),o("el-table-column",{attrs:{label:"是否新品",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-switch",{attrs:{"active-color":"#409EFF","inactive-color":"#DCDFE6"},on:{change:function(o){t.set_new(e.row.goods_id)}},model:{value:e.row.is_new,callback:function(o){t.$set(e.row,"is_new",o)},expression:"scope.row.is_new"}})]}}])}),o("el-table-column",{attrs:{label:"是否下架",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-switch",{attrs:{"active-color":"#DCDFE6","inactive-color":"#F56C6C"},on:{change:function(o){t.set_down(e.row.goods_id,e.$index)}},model:{value:e.row.state,callback:function(o){t.$set(e.row,"state",o)},expression:"scope.row.state"}})]}}])}),o("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"success",size:"small"},on:{click:function(o){t.on_edit(e.row.goods_id)}}},[t._v("编辑")]),o("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference",type:"danger",size:"small"},on:{click:function(o){t.del(e.row.goods_id,e.$index)}},slot:"reference"},[t._v("删除")])]}}])})],1)],o("el-pagination",{staticStyle:{"padding-top":"60px","text-align":"center"},attrs:{background:"",layout:"prev, pager, next",total:t.page.total,"page-size":t.page.per_page},on:{"current-change":t.jump_page}})],2)])])},n=[],l=(o("cadf"),o("551c"),o("097d"),o("116b")),c=o("5c96"),d={name:"List-b",props:["down"],data:function(){return{value:"",inpue:"",visible2:!1,product:[],addShow:!1,eid:0,page:[],is_hot:!0}},components:{Good:l["default"]},methods:{serach:function(){this.getProductList(1,this.value)},all:function(){this.getProductList(),this.value=""},get_down:function(){},jump_page:function(t){this.getProductList(t)},on_add:function(){this.addShow=!0,this.eid=0},on_edit:function(t){this.addShow=!0,this.eid=t},back:function(){this.order_id=0,this.addShow=!1,this.getProductList()},getProductList:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=c["Loading"].service({fullscreen:!0}),s=this;this.http.get("/admin/get_products",{page:t,size:8,keywords:e}).then(function(t){s.product=t.data.data,s.page=t.data,o.close()})},getDownPro:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=this;this.http.get("/admin/get_products_down",{page:t,size:8,keywords:e}).then(function(t){o.product=t.data.data,o.page=t.data})},del:function(t,e){var o=this,s=this,i=localStorage.getItem("oauth");i.indexOf("shop_del")<0?this.$message({message:"无权限",type:"none"}):this.$confirm("是否删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){o.http.put("/admin/del_product",{id:t}).then(function(t){s.$message({showClose:!0,message:"删除成功",type:"success"}),s.product.splice(e,1)})})},set_hot:function(t){this.http.put("/admin/update",{id:t,db:"goods",field:"is_hot"}).then(function(t){console.log(t)})},set_new:function(t){this.http.put("/admin/update",{id:t,db:"goods",field:"is_new"}).then(function(t){console.log(t)})},set_down:function(t,e){var o=this;this.http.put("/admin/update",{id:t,db:"goods",field:"state"}).then(function(t){o.$message({message:"成功",type:"success"}),o.product.splice(e,1)})},emit_tg_list:function(){this.addShow=!1,this.eid=0,this.getProductList()}},mounted:function(){this.getProductList()}},r=d,u=(o("1eb4"),o("2877")),p=Object(u["a"])(r,a,n,!1,null,"70c65354",null);p.options.__file="List-a.vue";var h=p.exports,f={data:function(){return{activeName:"first",visible2:!1,product:[],addShow:!1,down:!1,eid:0,page:[]}},components:{ListA:h},methods:{emit_one:function(){console.log(123)}},mounted:function(){}},_=f,g=(o("f236"),Object(u["a"])(_,s,i,!1,null,"38a9ecb6",null));g.options.__file="List.vue";e["default"]=g.exports},f236:function(t,e,o){"use strict";var s=o("4d12"),i=o.n(s);i.a}}]);
//# sourceMappingURL=chunk-326c.5fa87a67.js.map