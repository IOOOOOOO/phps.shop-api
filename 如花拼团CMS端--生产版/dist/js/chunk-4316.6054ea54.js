(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4316","chunk-4c5c"],{2907:function(t,e,s){},"2ec3":function(t,e,s){},"41d8":function(t,e,s){"use strict";var a=s("2ec3"),i=s.n(a);i.a},7849:function(t,e,s){"use strict";var a=s("2907"),i=s.n(a);i.a},f86d:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.auth?s("div",[s("transition",{attrs:{appear:"","appear-active-class":"animated fadeInLeft"}},[s("div",{staticClass:"order"},[t.addShow?s("div",[s("div",{staticClass:"order-back"},[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.back}},[t._v("返回")])],1),s("order-details",{attrs:{order_id:this.order_id}})],1):t._e(),t.addShow?t._e():[s("div",{staticClass:"list-head"},[s("div",{staticClass:"liat-head-02"},[t._v("\n\t\t\t\t\t\t订单号："),s("el-input",{staticStyle:{width:"70%"},attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),s("div",{staticClass:"liat-head-03"},[s("el-row",[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.serach}},[t._v("搜索")]),s("el-button",{attrs:{type:"success",size:"small"},on:{click:t.all}},[t._v("刷新")])],1)],1)]),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.order,border:""}},[s("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),s("el-table-column",{attrs:{prop:"order_num",label:"订单号",width:"180"}}),s("el-table-column",{attrs:{label:"商品名称",width:"280"},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.row.ordergoods,function(e,a){return s("div",[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("ellipsis")(e.goods_name))+"\n\t\t\t\t\t\t\t")])})}}])}),s("el-table-column",{attrs:{prop:"order_money",label:"订单价格",width:"100"}}),s("el-table-column",{attrs:{label:"类型",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.type?s("p",[t._v("拼团商品")]):s("p",[t._v("普通商品")])]}}])}),s("el-table-column",{attrs:{prop:"users.nickname",label:"用户",width:"160"}}),s("el-table-column",{attrs:{label:"支付状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.pay_status?s("p",[t._v("已支付")]):s("p",{staticStyle:{color:"Red"}},[t._v("未支付")])]}}])}),s("el-table-column",{attrs:{label:"货物状态",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.drive_status&&1==e.row.receive_status?s("p",{staticStyle:{color:"#909399"}},[t._v("\n\t\t\t\t\t\t\t\t已收货\n\t\t\t\t\t\t\t")]):1==e.row.drive_status&&0==e.row.receive_status?s("p",{staticStyle:{color:"#67C23A"}},[t._v("\n\t\t\t\t\t\t\t\t已发货\n\t\t\t\t\t\t\t")]):s("p",{staticStyle:{color:"#E6A23C"}},[t._v("\n\t\t\t\t\t\t\t\t未发货\n\t\t\t\t\t\t\t")])]}}])}),s("el-table-column",{attrs:{prop:"operation",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){t.show_order(e.row.order_id)}}},[t._v("查看")]),s("el-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"reference",type:"danger",size:"small"},on:{click:function(s){t.del(e.row.order_id,e.$index)}},slot:"reference"},[t._v("删除")])]}}])})],1),s("el-pagination",{staticStyle:{"padding-top":"60px","text-align":"center"},attrs:{background:"",layout:"prev, pager, next",total:t.page.total,"page-size":t.page.per_page},on:{"current-change":t.handleCurrentChange}})]],2)])],1):t._e()},i=[],l=s("fcdf"),r=s("5c96"),o={name:"Order",filters:{ellipsis:function(t){return t?t.length>18?t.slice(0,18)+"...":t:""}},data:function(){return{value:"",visible2:!1,order:[],addShow:!1,checkdDistributor:null,order_id:0,page:[],auth:!1}},components:{OrderDetails:l["default"]},methods:{serach:function(){this.post_order(1,this.value)},all:function(){var t=r["Loading"].service();this.post_order(),this.value="",t.close()},handleCurrentChange:function(t){this.post_order(t)},handleClick:function(t){console.log(t)},post_order:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=this;this.http.post("/admin/get_order_all",{page:t,size:8,keywords:e}).then(function(t){s.order=t.data.data,s.page=t.data})},show_order:function(t){this.addShow=!0,this.order_id=t},back:function(){this.order_id=0,this.addShow=!1},del:function(t,e){var s=this;this.$confirm("是否删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.http.put("/admin/del_order",{id:t}).then(function(t){return 1==t.data?(s.$message({showClose:!0,message:"删除成功",type:"success"}),s.order.splice(e,1),!1):400==t.response.status?(s.$alert(t.response.data.msg,""),!1):(s.$message({showClose:!0,message:"删除失败",type:"error"}),!1)})})},check_auth:function(t){var e=localStorage.getItem("oauth");e.indexOf(t)<0?this.$message({message:"无权限",type:"none"}):this.auth=!0}},mounted:function(){this.check_auth("order_list"),this.post_order()}},n=o,d=(s("7849"),s("2877")),c=Object(d["a"])(n,a,i,!1,null,null,null);c.options.__file="Order.vue";e["default"]=c.exports},fcdf:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"detail_page"}},[s("div",[s("div",{staticClass:"details"},[s("div",{staticClass:"details-l fl"},[s("div",{staticClass:"details-l-01"},[s("div",{staticClass:"fl"},[t._v("订单信息")]),s("div",{staticClass:"fr"},[s("span",[t._v(t._s(t.details.type?"普通商品":"拼团商品"))])]),s("div",{staticClass:"clear"})]),s("div",{staticClass:"details-l-02"},[s("div",{staticClass:"details-l-02-l"},[t._v("订单编号 ： ")]),s("div",{staticClass:"details-l-02-r"},[t._v(t._s(t.details.order_num))])]),s("div",{staticClass:"details-l-02"},[s("div",{staticClass:"details-l-02-l"},[t._v("付款方式 ： ")]),s("div",{staticClass:"details-l-02-r"},[t._v(t._s("wx"==t.details.payment_type?"微信":"其他"))])]),s("div",{staticClass:"details-l-02"},[s("div",{staticClass:"details-l-02-l"},[t._v("买家 ： ")]),s("div",{staticClass:"details-l-02-r"},[t._v(t._s(t.details.users))])]),s("div",{staticClass:"details-l-02"},[s("div",{staticClass:"details-l-02-l"},[t._v("买家IP ： ")]),s("div",{staticClass:"details-l-02-r"},[t._v(t._s(t.details.user_ip))])]),s("div",{staticClass:"details-l-02"},[s("div",{staticClass:"details-l-02-l"},[t._v("购买时间 ： ")]),s("div",{staticClass:"details-l-02-r"},[t._v(t._s(t.details.create_time))])]),s("div",{staticClass:"details-l-02"},[s("div",{staticClass:"details-l-02-l"},[t._v("使用时间 ： ")]),s("div",{staticClass:"details-l-02-r"},[t._v(t._s(t.details.create_time))])]),s("hr",{staticStyle:{height:"1px",border:"none","border-top":"1px dashed #f0f0f0"}}),s("div",{staticClass:"details-l-02"},[s("div",{staticClass:"details-l-02-l"},[t._v("收货信息 ： ")]),s("div",{staticClass:"details-l-02-r"},[t._v(t._s(t.details.receiver_name)+","+t._s(t.details.receiver_mobile)+","+t._s(t.details.receiver_province)+t._s(t.details.receiver_city)+t._s(t.details.receiver_district)+t._s(t.details.receiver_address))])]),t._m(0)]),s("div",{staticClass:"details-r fl"},[s("div",{staticClass:"details-r-01"},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:6}},[s("i",{staticClass:"el-icon-warning"}),t._v(" 订单状态：\n\n\t\t\t\t\t\t\t"),1==t.details.pay_status?s("span",[t._v("已支付\n\t\t\t\t\t\t\t\t"),0==t.details.drive_status?s("span",[t._v("- 待发货")]):s("span",[t._v("已发货")])]):s("span",[t._v("未支付")])]),s("el-col",{attrs:{span:8}},[s("el-button",{attrs:{size:"small"},on:{click:function(e){t.form_shipping=!0}}},[t._v("快递单号")]),s("el-button",{attrs:{size:"small"},on:{click:function(e){t.remark=!0}}},[t._v("添加订单备注")])],1)],1),s("el-row",[s("p",[t._v(t._s(t.details.remark))])]),s("el-table",{ref:"singleTable",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.details.ordergoods,"highlight-current-row":""}},[s("el-table-column",{attrs:{type:"index",width:"50"}}),s("el-table-column",{attrs:{label:"商品名称",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t\t\t"+t._s(t._f("ellipsis")(e.row.goods_name))+"\n\t\t\t\t\t\t\t")]}}])}),s("el-table-column",{attrs:{property:"num",label:"数量",width:"120"}}),s("el-table-column",{attrs:{property:"price",label:"单价",width:"120"}}),s("el-table-column",{attrs:{property:"price",label:"合计"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t\t\t"+t._s(e.row.price*e.row.num)+"\n\t\t\t\t\t\t\t")]}}])})],1)],1),s("hr",{staticStyle:{height:"2px",border:"none","border-top":"2px dotted #f0f0f0"}}),s("el-row",{staticStyle:{"font-size":"14px"},attrs:{gutter:20}},[s("el-col",{attrs:{span:6,offset:1}},[t._v("快递: "+t._s(t.details.courier)+" "+t._s(t.details.courier_num))]),s("el-col",{attrs:{span:6,offset:8}},[t._v("商品总金额：¥"+t._s(t.details.order_money))])],1)],1),s("div",{staticClass:"clear"})]),s("div",{staticClass:"log"},[s("div",{staticClass:"log-01"},[t._v("订单日志")]),s("div",{staticClass:"log-02"},[s("ul",t._l(t.details.log,function(e,a){return s("li",[t._v("["+t._s(e.create_time)+"]\n\t\t\t\t\t\t"),s("b",[t._v(t._s(e.type_name)+"：")]),t._v(t._s(e.content))])}))])]),s("div",{staticClass:"clear"})]),s("el-dialog",{attrs:{title:"",width:"400px",visible:t.form_shipping},on:{"update:visible":function(e){t.form_shipping=e}}},[s("el-form",{attrs:{model:t.form}},[s("el-form-item",{attrs:{label:"快递公司","label-width":"80px"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.courier,callback:function(e){t.$set(t.form,"courier",e)},expression:"form.courier"}})],1),s("el-form-item",{attrs:{label:"运单号","label-width":"80px"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.courier_num,callback:function(e){t.$set(t.form,"courier_num",e)},expression:"form.courier_num"}})],1)],1),s("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.form_shipping=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:t.courier_sub}},[t._v("确 定")])],1)],1),s("el-dialog",{attrs:{title:"",width:"500px",visible:t.remark},on:{"update:visible":function(e){t.remark=e}}},[s("el-form",{attrs:{model:t.form}},[s("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"备注","label-width":"80px"}},[s("el-input",{attrs:{"auto-complete":"off"},model:{value:t.form.remark,callback:function(e){t.$set(t.form,"remark",e)},expression:"form.remark"}})],1)],1),s("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.remark=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:t.remark_sub}},[t._v("确 定")])],1)],1)],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"details-l-02"},[s("div",{staticClass:"details-l-02-l"},[t._v("买家留言 ： ")]),s("div",{staticClass:"details-l-02-r"},[t._v("xxx")])])}],l=(s("6b54"),s("cadf"),s("551c"),s("097d"),{name:"Details",filters:{ellipsis:function(t){return t?t.length>30?t.slice(0,30)+"...":t:""}},props:["order_id"],data:function(){return{details:[],list:[],mid:this.order_id,remark:!1,form:{remark:"",price:"",courier:"",courier_num:""},form_price:!1,form_shipping:!1,formLabelWidth:"120px"}},methods:{post_details:function(){var t=this;this.http.post("/admin/get_order_one",{id:this.mid}).then(function(e){t.details=e.data})},del:function(t,e){this.$confirm("是否删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){})},courier_sub:function(){var t=this,e={courier:this.form.courier,courier_num:this.form.courier_num,order_id:this.order_id};this.http.post("/admin/up_order_courire",e).then(function(e){var s=e.status.toString();2==s.charAt(0)?(t.$message({showClose:!0,message:"修改成功",type:"success"}),t.form_shipping=!1,t.form.courier="",t.form.courier_num=""):t.$message({showClose:!0,message:e.data.msg,type:"error"})})}},mounted:function(){this.post_details()}}),r=l,o=(s("41d8"),s("2877")),n=Object(o["a"])(r,a,i,!1,null,null,null);n.options.__file="Details.vue";e["default"]=n.exports}}]);
//# sourceMappingURL=chunk-4316.6054ea54.js.map